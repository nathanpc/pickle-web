# Ensure we only use index.php for the index page.
DirectoryIndex index.php

# Protect our private stuff.
RedirectMatch 403 ^/private/.*$

# Rewriting for pretty URLs.
RewriteEngine On
RewriteRule ^archive/?$ archive.php [QSA]
RewriteRule ^about/?$ about.php [QSA]
RewriteRule ^upload/?$ upload.php [QSA]
RewriteRule ^pick/?$ pick.php [QSA]
RewriteRule ^pick/([^\/]+)/?$ pick.php?archive=$1 [QSA]
RewriteRule ^pick/([^\/]+)/([0-9]+)/?$ pick.php?archive=$1&lotsize=$2 [QSA]
RewriteRule ^pick/local/([^\/]+)/?$ pick.php?local=$1 [QSA]
RewriteRule ^(.+)$ index.php?path=$1 [QSA,L]

# Setup PHP configuration for debug.
php_flag display_startup_errors on
php_flag display_errors on
php_flag log_errors on
php_value error_log "/dev/stderr"
